{% extends "contenido/estructura.html" %}
{% load static %}
{% block title %}Editar cursos{% endblock title %}

{% block contenido %}
    <div class="page-header">
        <div class="page-title">
            <h3>
                Editar curso:
                <small>Edita la información de un curso ya creado.</small>
            </h3>
        </div>
    </div>
    <form class="form-horizontal" action="{% url "editar_curso" curso.id %}" method="POST" enctype="multipart/form-data" role="form">
        {% csrf_token %}
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="form-group row">
                    <label class="col-sm-2 control-label text-right">Titulo:</label>
                    <div class="col-sm-10">
                        <input name="titulo" type="text" class="form-control" value="{{ curso.titulo }}">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="col-sm-2 col-form-label text-right">Descripción</label>
                        <div class="col-sm-10">
                            <textarea name="descripcion" cols="50" rows="10" class="form-control">{{ curso.descripcion }}</textarea>
                        </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 col-form-label text-right">Imagen</label>
                    <div class="col-sm-10">
                        {% if curso.imagen %}
                            <p>Imagen actual: <img src="{{ curso.imagen.url }}" alt="{{ curso.titulo }}" style="max-height: 100px;"></p>
                        {% endif %}
                        <input type="file" name="imagen" class="form-control-file">
                    </div>
                </div>

                <div class="form-group row">
                    <label class="col-sm-2 control-label text-right">Precio</label>
                    <div class="col-sm-10">
                        <input name="precio" type="number" class="form-control" placeholder="Escribe el precio" step="0.01" value="{{ curso.precio }}">
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-2 col-form-label text-right">Disponibilidad</label>
                    <div class="col-sm-10">
                        <input type="checkbox" name="disponibilidad" class="form-check-input" id="disponibilidad" {% if curso.disponibilidad %}checked{% endif %}>
                        <label class="form-check-label" for="disponibilidad">Disponible</label>
                    </div>
                </div>

                <div class="form-group row">
                    <label for="id_nivel" class="col-sm-2 col-form-label text-right">Nivel:</label>
                    <div class="col-sm-10">
                        <select name="nivel" class="form-control" id="nivel">
                            <option value="BAS" {% if curso.nivel == "BAS" %}selected{% endif %}>Básico</option>
                            <option value="INT" {% if curso.nivel == "INT" %}selected{% endif %}>Intermedio</option>
                            <option value="ADV" {% if curso.nivel == "ADV" %}selected{% endif %}>Avanzado</option>
                        </select>
                    </div>
                </div>

                <div class="form-actions text-right">
                    <input type="submit" value="Enviar" class="btn btn-primary">
                    <a href="{% url 'lista_cursos' %}" class="btn btn-secondary">Cancelar</a>
                </div>
            </div>
        </div>
    </form>
{% endblock %}